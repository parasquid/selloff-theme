{{ define "main" }}
<div class="container">
    {{ partial "category-tabs.html" . }}
    
    <nav class="breadcrumb">
        <a href="{{ "/" | relURL }}">‚Üê Back to Items</a>
    </nav>

    <article class="item-detail">
        <header class="item-header">
            <h1>{{ .Title }}</h1>
            {{ if .Params.sold }}
            <span class="sold-badge">SOLD</span>
            {{ end }}
        </header>

        <div class="item-content">
            <div class="item-images">
                {{ if .Params.images }}
                <div class="image-gallery">
                    {{ range .Params.images }}
                    <img src="{{ . | relURL }}" alt="{{ $.Title }}" class="gallery-image">
                    {{ end }}
                </div>
                {{ else if .Params.thumbnail }}
                <img src="{{ .Params.thumbnail | relURL }}" alt="{{ .Title }}" class="main-image">
                {{ else }}
                <div class="no-image">
                    <span>No images available</span>
                </div>
                {{ end }}
            </div>

            <div class="item-details">
                <div class="item-meta">
                    {{ if .Params.price }}
                    <div class="meta-item">
                        <strong>Price:</strong> {{ .Site.Params.currency }}{{ .Params.price }}
                    </div>
                    {{ end }}
                    
                    {{ if .Params.condition }}
                    <div class="meta-item">
                        <strong>Condition:</strong> {{ .Params.condition }}
                    </div>
                    {{ end }}
                    
                    {{ if .Params.categories }}
                    <div class="meta-item">
                        <strong>Categories:</strong>
                        <div class="meta-categories">
                            {{ range .Params.categories }}
                            <span class="item-category">{{ . }}</span>
                            {{ end }}
                        </div>
                    </div>
                    {{ else if .Params.category }}
                    <div class="meta-item">
                        <strong>Category:</strong> {{ .Params.category }}
                    </div>
                    {{ end }}
                    
                    <div class="meta-item">
                        <strong>Listed:</strong> {{ .Date.Format "January 2, 2006" }}
                    </div>
                    
                    {{ if .Params.carousell }}
                    <div class="meta-item">
                        <strong>Also available on:</strong> <a href="{{ .Params.carousell }}" target="_blank" class="carousell-link">Carousell</a>
                    </div>
                    {{ end }}
                </div>

                <div class="item-description">
                    {{ .Content }}
                </div>

                {{ if not .Params.sold }}
                {{ partial "contact-seller.html" . }}
                {{ end }}
            </div>
        </div>
    </article>
</div>
{{ end }}